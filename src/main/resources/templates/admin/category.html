<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
th:replace="base::layout(~{::section})">
<head>
<meta charset="UTF-8">
<title>Add Category</title>
</head>
<body>
<section>
<div class="container-fluid p-4">
<div class="row">
<!-- Left Side - Add Category Form -->
<div class="col-md-4">
<div class="card shadow-sm border-0 rounded-3">
<div class="card-header text-center fs-4 text-white" style="background-color: #4f46e5;">
<i class="bi bi-folder-plus me-2"></i>Add Category
</div>
<div class="card-body p-4">
<form th:action="@{/admin/category/save}" method="post" enctype="multipart/form-data">
<div class="mb-3">
<label class="form-label fw-semibold">Category Name</label>
<input type="text" name="name" class="form-control" placeholder="Enter category name" required>
</div>
<div class="mb-3">
<label class="form-label fw-semibold">Category Image</label>
<input type="file" name="image" class="form-control" accept="image/*" required>
</div>
<div class="d-grid">
<button type="submit" class="btn btn-primary btn-lg" style="background-color: #4f46e5; border-color: #4f46e5;">
<i class="bi bi-plus-circle me-2"></i>Add Category
</button>
</div>
</form>
</div>
</div>
</div>

<!-- Right Side - Category List -->
<div class="col-md-8">
<div class="card shadow-sm border-0 rounded-3">
<div class="card-header text-center fs-4 text-white" style="background-color: #4f46e5;">
<i class="bi bi-list-ul me-2"></i>All Categories
</div>
<div class="card-body p-4">
<!-- Show table only if categories exist -->
<div th:if="${categories != null and !categories.isEmpty()}" class="table-responsive">
<table class="table table-hover table-striped align-middle">
<thead class="table-light">
<tr>
<th scope="col" class="text-center">#</th>
<th scope="col">Image</th>
<th scope="col">Category Name</th>
<th scope="col" class="text-center">Actions</th>
</tr>
</thead>
<tbody>
<tr th:each="category, iterStat : ${categories}">
<th scope="row" class="text-center" th:text="${iterStat.count}">1</th>
<td>
<img th:src="@{'/images/category/' + ${category.imageName}}" alt="Category" class="rounded" width="50" height="50">
</td>
<td class="fw-semibold" th:text="${category.name}">Category Name</td>
<td class="text-center">
<a th:href="@{'/admin/category/edit/' + ${category.id}}" class="btn btn-sm btn-warning me-2">
<i class="bi bi-pencil"></i> Edit
</a>
<a th:href="@{'/admin/category/delete/' + ${category.id}}" class="btn btn-sm btn-danger" 
   onclick="return confirm('Are you sure you want to delete this category?')">
<i class="bi bi-trash"></i> Delete
</a>
</td>
</tr>
</tbody>
</table>
</div>

<!-- Show empty state if no categories -->
<div th:if="${categories == null or categories.isEmpty()}" class="text-center py-5">
<i class="bi bi-inbox" style="font-size: 5rem; color: #d1d5db;"></i>
<h5 class="mt-4 text-muted">No Categories Yet</h5>
<p class="text-muted">Start by adding your first category using the form on the left.</p>
</div>
</div>
</div>
</div>

</div>
</div>
</section>
</body>
</html>